<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Hangman</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
 

 
</head>

<body>
     <div id="main-container" id="gameContainer">
            <div class="gameHeader">

    <h1>HANGMAN</h1>

    <h2>Flower Edition</h2>

    <img src= "images/Peonies.png" class= "auth-image" alt = "titleimage" width="300px">

    <div id="lifeCount">
            <p> You have 5 chances</p>
        </div>
    </div>

    <div id="messageField">

    <p>Can you guess the name of the flower?</p>

    <p> You will be given one hint and a flower image</p>
      
    </div>
     
       
        <div class= "startBtn">
            <div class="btnWrap">
    <p> Press <button id="startButton" type="button" class="btn btn-outline-light">START</button>
      to play the game!</p>
      </div>

      <div class="row">


      </div>

    </div>
    <section id="answerCount">
			<div id="wins">Wins:</div>
			<div id="wrongAnswers">Wrong Answers:</div>
    </section>
    
    </div>

<footer>
        <div id="footercontainer">
                <p>copyright 2018 Hangman Flower Edition</p>
                </div>
</footer>

    <!--JavaScript section-->

    <script ="text/javascript">
        var hints = [
            // first hint Gardenia
            {
                hint : [' This flower belongs to the coffee plant family, ‘Rubiaceae’.',{image: "Gardenia.png"}],
                answer: "Gardenia"
            } ,
            // second hint Lily
            {
                hint : [' They’re highly toxic to our furry friends (cats).'],
                answer: "Lily"
            } ,
            // third hint Magnolia
            {
                hint : [' They have been naturalized to almost all continents in the world because of their beauty.'],
                answer: "Magnolia"
            } ,
            // fourth hint Orchid
            {
                hint : [' They have existed on the planet around 100 million years.'],
                answer: "Orchid"
            } ,
            // fifth hint Hibiscus
            {
                hint : [' This flower is edible and has a tangy citrusy taste.'],
                answer: "Hibiscus"
            } 
        ]
    
    // geting elements from HTML section

          var startBtn = document.getElementById("startButton");
          var msgField = document.getElementById("messageField");
          var answerCount = document.getElementById("answerCount");
          var lifeCount = document.getElementById ("lifeCount");
          var wrongLetters = document.getElementById("wrongAnswers");
          
          
          var winCount = document.getElementById("wins");
          var wins = 0;


         //Start the game

         startBtn.onclick =  function(){
	     gameStart();
        };


        function gameStart(){
            //list of score value 

          var score = 0;
	      var chances = 5;
	      var rightGuess = [];
	      var wrongGuess = [];
	      lifeCount.innerHTML = chances + " attempts left";
	      winCount.innerHTML = "Wins: " + wins;
	      wrongLetters.innerHTML = "Wrong Answers: " + wrongAnswers;
         
        }

        // Picking hints a random

        var randHint = hints[Math.floor(Math.random() * hints.length)];

        var randAnswer = randHint.answer;

        var letterArr = randHint.answer.split('');

        //Get rid of start Button

        startBtn.innerHTML = "<div class=\"wordWrap\"></div>";
        var wordWrap = document.querySelector(".wordWrap");

        // Create blank underlined space

        	for(var i = 0; i < letterArr.length; i++){
		var mask = document.createElement("span");
		mask.className = "mask";
		mask.id = "id" + i;
        wordWrap.appendChild(mask);
        }

        // Display rhints

        msgField.innerHTML = "<div class=\"hintWrap\"></div>";
        var hintWrap = document.querySelector(".hintWrap");
        
        // Create original line for each hint

        for (var i = 0; i < randHint.hint.length; i++) {
		var line = document.createElement("li");
		hintWrap.appendChild(line);
		line.innerHTML = randHint.hint[i] + "</br>";
	}
     
        // Events on Keyboard press

        	document.onkeyup = function(event){

            var keyInput = event.key.toUpperCase();
            var letterIndex = letterArr.indexOf(keyInput);
            var keyInputCode = keyInput.charCodeAt(0);

            }
        // Capital letter check
        if(keyInput.length == 1 && (keyInputCode >= 65 && keyInputCode <= 99)) {
         }
         if (letterIndex !== -1){

         }
         rightGuess.push(keyInput);

         		for (var i = 0; i < randAnswer.length; i++) {
						if(keyInput === randAnswer.charAt(i))
							var unMask = document.getElementById("id"+i);
							unMask.className = "unMask";
                            unMask.innerHTML = keyInput;
                            score++;
						}
         

           // length

           	if (score === randAnswer.length){
							wrongGuess.length = 0;
							wrongLetters.innerHTML = "";
							var newBtn = "<div class='btnWrap'><button id='playAgain' class='btn' autofocus>PLAY AGAIN</button></div>";
							hintWrap.innerHTML = "<p>YOU WIN!</p></br>" + newBtn;
							wrongLetters.innerHTML = "Wrong Guesses: ";
							var playAgain = document.querySelector("#playAgain");
							playAgain.onclick =  function(){
								wins++;
								gameStart();
							};
						}
                      else{
                          if(chances > 0 && wrongGuess.indexOf(keyInput) === -1){
                            wrongGuess.push(keyInput);

                            chances--;
					lifeCount.innerHTML = chances + " attempts left";
					wrongLetters.innerHTML = "Wrong Guesses: " + wrongGuess;
                          }
                        }

                        if(chances == 0){
					var newBtn = "<div class='btnWrap'><button id='tryAgain' class='btn' autofocus>TRY AGAIN</button></div>";
					riddleWrap.innerHTML = "<p>YOU LOSE!</p></br>" + newBtn;
					var tryAgain = document.querySelector("#tryAgain");
					wrongGuess.length = 0;
					wrongLetters.innerHTML = "Wrong Guesses: ";
					document.onkeyup = function(event){
						console.log("you lost");
					};
					tryAgain.onclick =  function(){
						gameStart();
					};
				}
			

    </script>

</body>
</html>